function AlignmentPattern(e,c,a){this.x=e;this.y=c;this.count=1;this.estimatedModuleSize=a;this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return Math.floor(this.x)});this.__defineGetter__("Y",function(){return Math.floor(this.y)});this.incrementCount=function(){this.count++};this.aboutEquals=function(d,b,a){return Math.abs(b-this.y)<=d&&Math.abs(a-this.x)<=d?
  (d=Math.abs(d-this.estimatedModuleSize),1>=d||1>=d/this.estimatedModuleSize):!1}}
  function AlignmentPatternFinder(e,c,a,d,b,g,f){this.image=e;this.possibleCenters=[];this.startX=c;this.startY=a;this.width=d;this.height=b;this.moduleSize=g;this.crossCheckStateCount=[0,0,0];this.resultPointCallback=f;this.centerFromEnd=function(b,d){return d-b[2]-b[1]/2};this.foundPatternCross=function(b){for(var d=this.moduleSize,a=d/2,c=0;3>c;c++)if(Math.abs(d-b[c])>=a)return!1;return!0};this.crossCheckVertical=function(b,d,a,c){var g=this.image,e=qrcode.height,f=this.crossCheckStateCount;f[0]=
  0;f[1]=0;f[2]=0;for(var h=b;0<=h&&g[d+h*qrcode.width]&&f[1]<=a;)f[1]++,h--;if(0>h||f[1]>a)return NaN;for(;0<=h&&!g[d+h*qrcode.width]&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=b+1;h<e&&g[d+h*qrcode.width]&&f[1]<=a;)f[1]++,h++;if(h==e||f[1]>a)return NaN;for(;h<e&&!g[d+h*qrcode.width]&&f[2]<=a;)f[2]++,h++;return f[2]>a||5*Math.abs(f[0]+f[1]+f[2]-c)>=2*c?NaN:this.foundPatternCross(f)?this.centerFromEnd(f,h):NaN};this.handlePossibleCenter=function(b,d,a){var c=b[0]+b[1]+b[2];a=this.centerFromEnd(b,
  a);d=this.crossCheckVertical(d,Math.floor(a),2*b[1],c);if(!isNaN(d)){b=(b[0]+b[1]+b[2])/3;c=this.possibleCenters.length;for(var g=0;g<c;g++)if(this.possibleCenters[g].aboutEquals(b,d,a))return new AlignmentPattern(a,d,b);a=new AlignmentPattern(a,d,b);this.possibleCenters.push(a);null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(a)}return null};this.find=function(){for(var b=this.startX,c=this.height,g=b+d,f=a+(c>>1),m=[0,0,0],q=0;q<c;q++){var r=f+(0==(q&1)?q+1>>1:-(q+
  1>>1));m[0]=0;m[1]=0;m[2]=0;for(var t=b;t<g&&!e[t+qrcode.width*r];)t++;for(var p=0;t<g;){if(e[t+r*qrcode.width])if(1==p)m[p]++;else if(2==p){if(this.foundPatternCross(m)&&(p=this.handlePossibleCenter(m,r,t),null!=p))return p;m[0]=m[2];m[1]=1;m[2]=0;p=1}else m[++p]++;else 1==p&&p++,m[p]++;t++}if(this.foundPatternCross(m)&&(p=this.handlePossibleCenter(m,r,g),null!=p))return p}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns";}}
  function BitMatrix(e,c){c||(c=e);if(1>e||1>c)throw"Both dimensions must be greater than 0";this.width=e;this.height=c;var a=e>>5;0!=(e&31)&&a++;this.rowSize=a;this.bits=Array(a*c);for(a=0;a<this.bits.length;a++)this.bits[a]=0;this.__defineGetter__("Width",function(){return this.width});this.__defineGetter__("Height",function(){return this.height});this.__defineGetter__("Dimension",function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width});this.get_Renamed=
  function(d,b){return 0!=(URShift(this.bits[b*this.rowSize+(d>>5)],d&31)&1)};this.set_Renamed=function(d,b){this.bits[b*this.rowSize+(d>>5)]|=1<<(d&31)};this.flip=function(d,b){this.bits[b*this.rowSize+(d>>5)]^=1<<(d&31)};this.clear=function(){for(var d=this.bits.length,b=0;b<d;b++)this.bits[b]=0};this.setRegion=function(d,b,a,c){if(0>b||0>d)throw"Left and top must be nonnegative";if(1>c||1>a)throw"Height and width must be at least 1";a=d+a;c=b+c;if(c>this.height||a>this.width)throw"The region must fit inside the matrix";
  for(;b<c;b++)for(var g=b*this.rowSize,e=d;e<a;e++)this.bits[g+(e>>5)]|=1<<(e&31)}}
  function BitMatrixParser(e){var c=e.Dimension;if(21>c||1!=(c&3))throw"Error BitMatrixParser";this.bitMatrix=e;this.parsedFormatInfo=this.parsedVersion=null;this.copyBit=function(a,d,b){return this.bitMatrix.get_Renamed(a,d)?b<<1|1:b<<1};this.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var a=0,d=0;6>d;d++)a=this.copyBit(d,8,a);a=this.copyBit(7,8,a);a=this.copyBit(8,8,a);a=this.copyBit(8,7,a);for(d=5;0<=d;d--)a=this.copyBit(8,d,a);this.parsedFormatInfo=
  FormatInformation.decodeFormatInformation(a);if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;var b=this.bitMatrix.Dimension;a=0;var c=b-8;for(d=b-1;d>=c;d--)a=this.copyBit(d,8,a);for(d=b-7;d<b;d++)a=this.copyBit(8,d,a);this.parsedFormatInfo=FormatInformation.decodeFormatInformation(a);if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation";};this.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var a=this.bitMatrix.Dimension,
  d=a-17>>2;if(6>=d)return Version.getVersionForNumber(d);d=0;for(var b=a-11,c=5;0<=c;c--)for(var e=a-9;e>=b;e--)d=this.copyBit(e,c,d);this.parsedVersion=Version.decodeVersionInformation(d);if(null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;d=0;for(e=5;0<=e;e--)for(c=a-9;c>=b;c--)d=this.copyBit(e,c,d);this.parsedVersion=Version.decodeVersionInformation(d);if(null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==a)return this.parsedVersion;throw"Error readVersion";
  };this.readCodewords=function(){var a=this.readFormatInformation(),d=this.readVersion(),b=DataMask.forReference(a.DataMask);a=this.bitMatrix.Dimension;b.unmaskBitMatrix(this.bitMatrix,a);b=d.buildFunctionPattern();for(var c=!0,e=Array(d.TotalCodewords),h=0,k=0,l=0,n=a-1;0<n;n-=2){6==n&&n--;for(var m=0;m<a;m++)for(var q=c?a-1-m:m,r=0;2>r;r++)b.get_Renamed(n-r,q)||(l++,k<<=1,this.bitMatrix.get_Renamed(n-r,q)&&(k|=1),8==l&&(e[h++]=k,k=l=0));c^=1}if(h!=d.TotalCodewords)throw"Error readCodewords";return e}}
  function DataBlock(e,c){this.numDataCodewords=e;this.codewords=c;this.__defineGetter__("NumDataCodewords",function(){return this.numDataCodewords});this.__defineGetter__("Codewords",function(){return this.codewords})}
  DataBlock.getDataBlocks=function(e,c,a){if(e.length!=c.TotalCodewords)throw"ArgumentException";var d=c.getECBlocksForLevel(a);a=0;var b=d.getECBlocks();for(c=0;c<b.length;c++)a+=b[c].Count;a=Array(a);for(var g=0,f=0;f<b.length;f++){var h=b[f];for(c=0;c<h.Count;c++){var k=h.DataCodewords,l=d.ECCodewordsPerBlock+k;a[g++]=new DataBlock(k,Array(l))}}c=a[0].codewords.length;for(b=a.length-1;0<=b&&a[b].codewords.length!=c;)b--;b++;d=c-d.ECCodewordsPerBlock;for(c=h=0;c<d;c++)for(f=0;f<g;f++)a[f].codewords[c]=
  e[h++];for(f=b;f<g;f++)a[f].codewords[d]=e[h++];k=a[0].codewords.length;for(c=d;c<k;c++)for(f=0;f<g;f++)a[f].codewords[f<b?c:c+1]=e[h++];return a};
  function QRCodeDataBlockReader(e,c,a){this.blockPointer=0;this.bitPointer=7;this.dataLength=0;this.blocks=e;this.numErrorCorrectionCode=a;9>=c?this.dataLengthMode=0:10<=c&&26>=c?this.dataLengthMode=1:27<=c&&40>=c&&(this.dataLengthMode=2);this.getNextBits=function(d){var b;if(d<this.bitPointer+1){var a=0;for(b=0;b<d;b++)a+=1<<b;a<<=this.bitPointer-d+1;b=(this.blocks[this.blockPointer]&a)>>this.bitPointer-d+1;this.bitPointer-=d;return b}if(d<this.bitPointer+1+8){var c=0;for(b=0;b<this.bitPointer+1;b++)c+=
  1<<b;b=(this.blocks[this.blockPointer]&c)<<d-(this.bitPointer+1);this.blockPointer++;b+=this.blocks[this.blockPointer]>>8-(d-(this.bitPointer+1));this.bitPointer-=d%8;0>this.bitPointer&&(this.bitPointer=8+this.bitPointer);return b}if(d<this.bitPointer+1+16){for(b=a=c=0;b<this.bitPointer+1;b++)c+=1<<b;c=(this.blocks[this.blockPointer]&c)<<d-(this.bitPointer+1);this.blockPointer++;var e=this.blocks[this.blockPointer]<<d-(this.bitPointer+1+8);this.blockPointer++;for(b=0;b<d-(this.bitPointer+1+8);b++)a+=
  1<<b;a<<=8-(d-(this.bitPointer+1+8));b=(this.blocks[this.blockPointer]&a)>>8-(d-(this.bitPointer+1+8));this.bitPointer-=(d-8)%8;0>this.bitPointer&&(this.bitPointer=8+this.bitPointer);return c+e+b}return 0};this.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)};this.getDataLength=function(d){for(var b=0;1!=d>>b;)b++;return this.getNextBits(qrcode.sizeOfDataLengthInfo[this.dataLengthMode][b])};this.getRomanAndFigureString=function(d){var b=
  "",a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");do if(1<d){var c=this.getNextBits(11);var e=c%45;b+=a[Math.floor(c/45)];b+=a[e];d-=2}else 1==d&&(c=this.getNextBits(6),b+=a[c],--d);while(0<d);return b};this.getFigureString=function(d){var b=0,a="";do 3<=d?(b=this.getNextBits(10),100>b&&(a+="0"),10>b&&(a+="0"),d-=3):2==d?(b=this.getNextBits(7),10>b&&(a+="0"),d-=2):1==d&&(b=this.getNextBits(4),--d),a+=b;while(0<d);return a};this.get8bitByteArray=function(d){var b=[];do{var a=this.getNextBits(8);
  b.push(a);d--}while(0<d);return b};this.getKanjiString=function(d){var b="";do{var a=this.getNextBits(13);a=(a/192<<8)+a%192;b+=String.fromCharCode(40956>=a+33088?a+33088:a+49472);d--}while(0<d);return b};this.parseECIValue=function(){var d=0,b=this.getNextBits(8);0==(b&128)&&(d=b&127);128==(b&192)&&(d=this.getNextBits(8),d|=(b&63)<<8);192==(b&224)&&(d=this.getNextBits(8),d|=(b&31)<<16);return d};this.__defineGetter__("DataByte",function(){var d=[];do{var b=this.NextMode();if(0==b)if(0<d.length)break;
  else throw"Empty data block";if(1!=b&&2!=b&&4!=b&&8!=b&&7!=b)throw"Invalid mode: "+b+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";if(7==b)this.parseECIValue();else{var a=this.getDataLength(b);if(1>a)throw"Invalid data length: "+a;switch(b){case 1:b=this.getFigureString(a);a=Array(b.length);for(var c=0;c<b.length;c++)a[c]=b.charCodeAt(c);d.push(a);break;case 2:b=this.getRomanAndFigureString(a);a=Array(b.length);for(c=0;c<b.length;c++)a[c]=b.charCodeAt(c);d.push(a);break;case 4:b=this.get8bitByteArray(a);
  d.push(b);break;case 8:b=this.getKanjiString(a),d.push(b)}}}while(1);return d})}var DataMask={forReference:function(e){if(0>e||7<e)throw"System.ArgumentException";return DataMask.DATA_MASKS[e]}};function DataMask000(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==(e+c&1)}}
  function DataMask001(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==(e&1)}}function DataMask010(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==c%3}}
  function DataMask011(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==(e+c)%3}}function DataMask100(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==(URShift(e,1)+c/3&1)}}
  function DataMask101(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){var a=e*c;return 0==(a&1)+a%3}}function DataMask110(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){var a=e*c;return 0==((a&1)+a%3&1)}}
  function DataMask111(){this.unmaskBitMatrix=function(e,c){for(var a=0;a<c;a++)for(var d=0;d<c;d++)this.isMasked(a,d)&&e.flip(d,a)};this.isMasked=function(e,c){return 0==((e+c&1)+e*c%3&1)}}DataMask.DATA_MASKS=[new DataMask000,new DataMask001,new DataMask010,new DataMask011,new DataMask100,new DataMask101,new DataMask110,new DataMask111];var Decoder={};Decoder.rsDecoder=new ReedSolomonDecoder(GF256.QR_CODE_FIELD);
  Decoder.correctErrors=function(e,c){for(var a=e.length,d=Array(a),b=0;b<a;b++)d[b]=e[b]&255;a=e.length-c;try{Decoder.rsDecoder.decode(d,a)}catch(g){throw g;}for(b=0;b<c;b++)e[b]=d[b]};
  Decoder.decode=function(e){var c=new BitMatrixParser(e);e=c.readVersion();var a=c.readFormatInformation().ErrorCorrectionLevel;c=c.readCodewords();c=DataBlock.getDataBlocks(c,e,a);for(var d=0,b=0;b<c.length;b++)d+=c[b].NumDataCodewords;d=Array(d);for(var g=0,f=0;f<c.length;f++){b=c[f];var h=b.Codewords,k=b.NumDataCodewords;Decoder.correctErrors(h,k);for(b=0;b<k;b++)d[g++]=h[b]}return new QRCodeDataBlockReader(d,e.VersionNumber,a.Bits)};
  function PerspectiveTransform(e,c,a,d,b,g,f,h,k){this.a11=e;this.a12=d;this.a13=f;this.a21=c;this.a22=b;this.a23=h;this.a31=a;this.a32=g;this.a33=k;this.transformPoints1=function(b){for(var a=b.length,d=this.a11,c=this.a12,e=this.a13,g=this.a21,f=this.a22,h=this.a23,k=this.a31,l=this.a32,A=this.a33,u=0;u<a;u+=2){var v=b[u],w=b[u+1],x=e*v+h*w+A;b[u]=(d*v+g*w+k)/x;b[u+1]=(c*v+f*w+l)/x}};this.transformPoints2=function(b,a){for(var d=b.length,c=0;c<d;c++){var e=b[c],g=a[c],f=this.a13*e+this.a23*g+this.a33;
  b[c]=(this.a11*e+this.a21*g+this.a31)/f;a[c]=(this.a12*e+this.a22*g+this.a32)/f}};this.buildAdjoint=function(){return new PerspectiveTransform(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)};this.times=function(b){return new PerspectiveTransform(this.a11*
  b.a11+this.a21*b.a12+this.a31*b.a13,this.a11*b.a21+this.a21*b.a22+this.a31*b.a23,this.a11*b.a31+this.a21*b.a32+this.a31*b.a33,this.a12*b.a11+this.a22*b.a12+this.a32*b.a13,this.a12*b.a21+this.a22*b.a22+this.a32*b.a23,this.a12*b.a31+this.a22*b.a32+this.a32*b.a33,this.a13*b.a11+this.a23*b.a12+this.a33*b.a13,this.a13*b.a21+this.a23*b.a22+this.a33*b.a23,this.a13*b.a31+this.a23*b.a32+this.a33*b.a33)}}
  PerspectiveTransform.quadrilateralToQuadrilateral=function(e,c,a,d,b,g,f,h,k,l,n,m,q,r,t,p){e=this.quadrilateralToSquare(e,c,a,d,b,g,f,h);return this.squareToQuadrilateral(k,l,n,m,q,r,t,p).times(e)};
  PerspectiveTransform.squareToQuadrilateral=function(e,c,a,d,b,g,f,h){var k=h-g,l=c-d+g-h;if(0==k&&0==l)return new PerspectiveTransform(a-e,b-a,e,d-c,g-d,c,0,0,1);var n=a-b,m=f-b;b=e-a+b-f;g=d-g;var q=n*k-m*g;k=(b*k-m*l)/q;l=(n*l-b*g)/q;return new PerspectiveTransform(a-e+k*a,f-e+l*f,e,d-c+k*d,h-c+l*h,c,k,l,1)};PerspectiveTransform.quadrilateralToSquare=function(e,c,a,d,b,g,f,h){return this.squareToQuadrilateral(e,c,a,d,b,g,f,h).buildAdjoint()};
  function DetectorResult(e,c){this.bits=e;this.points=c}
  function Detector(e){this.image=e;this.resultPointCallback=null;this.sizeOfBlackWhiteBlackRun=function(c,a,d,b){var e=Math.abs(b-a)>Math.abs(d-c);if(e){var f=c;c=a;a=f;f=d;d=b;b=f}var h=Math.abs(d-c),k=Math.abs(b-a),l=-h>>1,n=a<b?1:-1,m=c<d?1:-1,q=0,r=c;for(f=a;r!=d;r+=m){var t=e?f:r,p=e?r:f;1==q?this.image[t+p*qrcode.width]&&q++:this.image[t+p*qrcode.width]||q++;if(3==q)return b=r-c,a=f-a,Math.sqrt(b*b+a*a);l+=k;if(0<l){if(f==b)break;f+=n;l-=h}}c=d-c;a=b-a;return Math.sqrt(c*c+a*a)};this.sizeOfBlackWhiteBlackRunBothWays=
  function(c,a,d,b){var e=this.sizeOfBlackWhiteBlackRun(c,a,d,b),f=1;d=c-(d-c);0>d?(f=c/(c-d),d=0):d>=qrcode.width&&(f=(qrcode.width-1-c)/(d-c),d=qrcode.width-1);b=Math.floor(a-(b-a)*f);f=1;0>b?(f=a/(a-b),b=0):b>=qrcode.height&&(f=(qrcode.height-1-a)/(b-a),b=qrcode.height-1);d=Math.floor(c+(d-c)*f);e+=this.sizeOfBlackWhiteBlackRun(c,a,d,b);return e-1};this.calculateModuleSizeOneWay=function(c,a){var d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(c.X),Math.floor(c.Y),Math.floor(a.X),Math.floor(a.Y)),
  b=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.X),Math.floor(a.Y),Math.floor(c.X),Math.floor(c.Y));return isNaN(d)?b/7:isNaN(b)?d/7:(d+b)/14};this.calculateModuleSize=function(c,a,d){return(this.calculateModuleSizeOneWay(c,a)+this.calculateModuleSizeOneWay(c,d))/2};this.distance=function(c,a){var d=c.X-a.X,b=c.Y-a.Y;return Math.sqrt(d*d+b*b)};this.computeDimension=function(c,a,d,b){a=Math.round(this.distance(c,a)/b);c=Math.round(this.distance(c,d)/b);c=(a+c>>1)+7;switch(c&3){case 0:c++;break;
  case 2:c--;break;case 3:throw"Error";}return c};this.findAlignmentInRegion=function(c,a,d,b){b=Math.floor(b*c);var e=Math.max(0,a-b);a=Math.min(qrcode.width-1,a+b);if(a-e<3*c)throw"Error";var f=Math.max(0,d-b);return(new AlignmentPatternFinder(this.image,e,f,a-e,Math.min(qrcode.height-1,d+b)-f,c,this.resultPointCallback)).find()};this.createTransform=function(c,a,d,b,e){e-=3.5;var f;if(null!=b){var g=b.X;b=b.Y;var k=f=e-3}else g=a.X-c.X+d.X,b=a.Y-c.Y+d.Y,k=f=e;return PerspectiveTransform.quadrilateralToQuadrilateral(3.5,
  3.5,e,3.5,k,f,3.5,e,c.X,c.Y,a.X,a.Y,g,b,d.X,d.Y)};this.sampleGrid=function(c,a,d){return GridSampler.sampleGrid3(c,d,a)};this.processFinderPatternInfo=function(c){var a=c.TopLeft,d=c.TopRight;c=c.BottomLeft;var b=this.calculateModuleSize(a,d,c);if(1>b)throw"Error";var e=this.computeDimension(a,d,c,b),f=Version.getProvisionalVersionForDimension(e),h=f.DimensionForVersion-7,k=null;if(0<f.AlignmentPatternCenters.length)for(f=1-3/h,k=Math.floor(a.X+f*(d.X-a.X+c.X-a.X)),f=Math.floor(a.Y+f*(d.Y-a.Y+c.Y-
  a.Y));;){k=this.findAlignmentInRegion(b,k,f,4);break}b=this.createTransform(a,d,c,k,e);e=this.sampleGrid(this.image,b,e);return new DetectorResult(e,null==k?[c,a,d]:[c,a,d,k])};this.detect=function(){var c=(new FinderPatternFinder).findFinderPattern(this.image);return this.processFinderPatternInfo(c)}}
  function ErrorCorrectionLevel(e,c,a){this.ordinal_Renamed_Field=e;this.bits=c;this.name=a;this.__defineGetter__("Bits",function(){return this.bits});this.__defineGetter__("Name",function(){return this.name});this.ordinal=function(){return this.ordinal_Renamed_Field}}ErrorCorrectionLevel.forBits=function(e){if(0>e||e>=FOR_BITS.length)throw"ArgumentException";return FOR_BITS[e]};
  var L=new ErrorCorrectionLevel(0,1,"L"),M=new ErrorCorrectionLevel(1,0,"M"),Q=new ErrorCorrectionLevel(2,3,"Q"),H=new ErrorCorrectionLevel(3,2,"H"),FOR_BITS=[M,L,H,Q],MIN_SKIP=3,MAX_MODULES=57,INTEGER_MATH_SHIFT=8,CENTER_QUORUM=2;
  qrcode.orderBestPatterns=function(e){function c(b,a){var d=b.X-a.X,c=b.Y-a.Y;return Math.sqrt(d*d+c*c)}var a=c(e[0],e[1]),d=c(e[1],e[2]),b=c(e[0],e[2]);d>=a&&d>=b?(d=e[0],a=e[1],b=e[2]):b>=d&&b>=a?(d=e[1],a=e[0],b=e[2]):(d=e[2],a=e[0],b=e[1]);if(0>function(b,a,d){var c=a.x;a=a.y;return(d.x-c)*(b.y-a)-(d.y-a)*(b.x-c)}(a,d,b)){var g=a;a=b;b=g}e[0]=a;e[1]=d;e[2]=b};
  function FinderPattern(e,c,a){this.x=e;this.y=c;this.count=1;this.estimatedModuleSize=a;this.__defineGetter__("EstimatedModuleSize",function(){return this.estimatedModuleSize});this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("X",function(){return this.x});this.__defineGetter__("Y",function(){return this.y});this.incrementCount=function(){this.count++};this.aboutEquals=function(a,b,c){return Math.abs(b-this.y)<=a&&Math.abs(c-this.x)<=a?(a=Math.abs(a-this.estimatedModuleSize),
  1>=a||1>=a/this.estimatedModuleSize):!1}}function FinderPatternInfo(e){this.bottomLeft=e[0];this.topLeft=e[1];this.topRight=e[2];this.__defineGetter__("BottomLeft",function(){return this.bottomLeft});this.__defineGetter__("TopLeft",function(){return this.topLeft});this.__defineGetter__("TopRight",function(){return this.topRight})}
  function FinderPatternFinder(){this.image=null;this.possibleCenters=[];this.hasSkipped=!1;this.crossCheckStateCount=[0,0,0,0,0];this.resultPointCallback=null;this.__defineGetter__("CrossCheckStateCount",function(){this.crossCheckStateCount[0]=0;this.crossCheckStateCount[1]=0;this.crossCheckStateCount[2]=0;this.crossCheckStateCount[3]=0;this.crossCheckStateCount[4]=0;return this.crossCheckStateCount});this.foundPatternCross=function(e){for(var c=0,a=0;5>a;a++){var d=e[a];if(0==d)return!1;c+=d}if(7>
  c)return!1;c=Math.floor((c<<INTEGER_MATH_SHIFT)/7);a=Math.floor(c/2);return Math.abs(c-(e[0]<<INTEGER_MATH_SHIFT))<a&&Math.abs(c-(e[1]<<INTEGER_MATH_SHIFT))<a&&Math.abs(3*c-(e[2]<<INTEGER_MATH_SHIFT))<3*a&&Math.abs(c-(e[3]<<INTEGER_MATH_SHIFT))<a&&Math.abs(c-(e[4]<<INTEGER_MATH_SHIFT))<a};this.centerFromEnd=function(e,c){return c-e[4]-e[3]-e[2]/2};this.crossCheckVertical=function(e,c,a,d){for(var b=this.image,g=qrcode.height,f=this.CrossCheckStateCount,h=e;0<=h&&b[c+h*qrcode.width];)f[2]++,h--;if(0>
  h)return NaN;for(;0<=h&&!b[c+h*qrcode.width]&&f[1]<=a;)f[1]++,h--;if(0>h||f[1]>a)return NaN;for(;0<=h&&b[c+h*qrcode.width]&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=e+1;h<g&&b[c+h*qrcode.width];)f[2]++,h++;if(h==g)return NaN;for(;h<g&&!b[c+h*qrcode.width]&&f[3]<a;)f[3]++,h++;if(h==g||f[3]>=a)return NaN;for(;h<g&&b[c+h*qrcode.width]&&f[4]<a;)f[4]++,h++;return f[4]>=a||5*Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)>=2*d?NaN:this.foundPatternCross(f)?this.centerFromEnd(f,h):NaN};this.crossCheckHorizontal=
  function(e,c,a,d){for(var b=this.image,g=qrcode.width,f=this.CrossCheckStateCount,h=e;0<=h&&b[h+c*qrcode.width];)f[2]++,h--;if(0>h)return NaN;for(;0<=h&&!b[h+c*qrcode.width]&&f[1]<=a;)f[1]++,h--;if(0>h||f[1]>a)return NaN;for(;0<=h&&b[h+c*qrcode.width]&&f[0]<=a;)f[0]++,h--;if(f[0]>a)return NaN;for(h=e+1;h<g&&b[h+c*qrcode.width];)f[2]++,h++;if(h==g)return NaN;for(;h<g&&!b[h+c*qrcode.width]&&f[3]<a;)f[3]++,h++;if(h==g||f[3]>=a)return NaN;for(;h<g&&b[h+c*qrcode.width]&&f[4]<a;)f[4]++,h++;return f[4]>=
  a||5*Math.abs(f[0]+f[1]+f[2]+f[3]+f[4]-d)>=d?NaN:this.foundPatternCross(f)?this.centerFromEnd(f,h):NaN};this.handlePossibleCenter=function(e,c,a){var d=e[0]+e[1]+e[2]+e[3]+e[4];a=this.centerFromEnd(e,a);c=this.crossCheckVertical(c,Math.floor(a),e[2],d);if(!isNaN(c)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(c),e[2],d),!isNaN(a))){e=d/7;d=!1;for(var b=this.possibleCenters.length,g=0;g<b;g++){var f=this.possibleCenters[g];if(f.aboutEquals(e,c,a)){f.incrementCount();d=!0;break}}d||(a=new FinderPattern(a,
  c,e),this.possibleCenters.push(a),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(a));return!0}return!1};this.selectBestPatterns=function(){var e=this.possibleCenters.length;if(3>e)throw"Couldn't find enough finder patterns (found "+e+")";if(3<e){for(var c=0,a=0,d=0;d<e;d++){var b=this.possibleCenters[d].EstimatedModuleSize;c+=b;a+=b*b}var g=c/e;this.possibleCenters.sort(function(b,a){var d=Math.abs(a.EstimatedModuleSize-g),c=Math.abs(b.EstimatedModuleSize-g);return d<
  c?-1:d==c?0:1});e=Math.max(.2*g,Math.sqrt(a/e-g*g));for(d=this.possibleCenters.length-1;0<=d;d--)Math.abs(this.possibleCenters[d].EstimatedModuleSize-g)>e&&this.possibleCenters.splice(d,1)}3<this.possibleCenters.length&&this.possibleCenters.sort(function(b,a){return b.count>a.count?-1:b.count<a.count?1:0});return[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]};this.findRowSkip=function(){var e=this.possibleCenters.length;if(1>=e)return 0;for(var c=null,a=0;a<e;a++){var d=
  this.possibleCenters[a];if(d.Count>=CENTER_QUORUM)if(null==c)c=d;else return this.hasSkipped=!0,Math.floor((Math.abs(c.X-d.X)-Math.abs(c.Y-d.Y))/2)}return 0};this.haveMultiplyConfirmedCenters=function(){for(var e=0,c=0,a=this.possibleCenters.length,d=0;d<a;d++){var b=this.possibleCenters[d];b.Count>=CENTER_QUORUM&&(e++,c+=b.EstimatedModuleSize)}if(3>e)return!1;e=c/a;var g=0;for(d=0;d<a;d++)b=this.possibleCenters[d],g+=Math.abs(b.EstimatedModuleSize-e);return g<=.05*c};this.findFinderPattern=function(e){this.image=
  e;var c=qrcode.height,a=qrcode.width,d=Math.floor(3*c/(4*MAX_MODULES));d<MIN_SKIP&&(d=MIN_SKIP);for(var b=!1,g=Array(5),f=d-1;f<c&&!b;f+=d){g[0]=0;g[1]=0;g[2]=0;g[3]=0;for(var h=g[4]=0,k=0;k<a;k++)if(e[k+f*qrcode.width])1==(h&1)&&h++,g[h]++;else if(0==(h&1))if(4==h)if(this.foundPatternCross(g)){if(h=this.handlePossibleCenter(g,f,k))d=2,this.hasSkipped?b=this.haveMultiplyConfirmedCenters():(h=this.findRowSkip(),h>g[2]&&(f+=h-g[2]-d,k=a-1));else{do k++;while(k<a&&!e[k+f*qrcode.width]);k--}h=0;g[0]=
  0;g[1]=0;g[2]=0;g[3]=0;g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,h=3;else g[++h]++;else g[h]++;this.foundPatternCross(g)&&(h=this.handlePossibleCenter(g,f,a))&&(d=g[0],this.hasSkipped&&(b=this.haveMultiplyConfirmedCenters()))}e=this.selectBestPatterns();qrcode.orderBestPatterns(e);return new FinderPatternInfo(e)}}
  var FORMAT_INFO_MASK_QR=21522,FORMAT_INFO_DECODE_LOOKUP=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],BITS_SET_IN_HALF_BYTE=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];
  function FormatInformation(e){this.errorCorrectionLevel=ErrorCorrectionLevel.forBits(e>>3&3);this.dataMask=e&7;this.__defineGetter__("ErrorCorrectionLevel",function(){return this.errorCorrectionLevel});this.__defineGetter__("DataMask",function(){return this.dataMask});this.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask};this.Equals=function(c){return this.errorCorrectionLevel==c.errorCorrectionLevel&&this.dataMask==c.dataMask}}
  FormatInformation.numBitsDiffering=function(e,c){e^=c;return BITS_SET_IN_HALF_BYTE[e&15]+BITS_SET_IN_HALF_BYTE[URShift(e,4)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,8)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,12)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,16)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,20)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,24)&15]+BITS_SET_IN_HALF_BYTE[URShift(e,28)&15]};
  FormatInformation.decodeFormatInformation=function(e){var c=FormatInformation.doDecodeFormatInformation(e);return null!=c?c:FormatInformation.doDecodeFormatInformation(e^FORMAT_INFO_MASK_QR)};FormatInformation.doDecodeFormatInformation=function(e){for(var c=4294967295,a=0,d=0;d<FORMAT_INFO_DECODE_LOOKUP.length;d++){var b=FORMAT_INFO_DECODE_LOOKUP[d],g=b[0];if(g==e)return new FormatInformation(b[1]);g=this.numBitsDiffering(e,g);g<c&&(a=b[1],c=g)}return 3>=c?new FormatInformation(a):null};
  function GF256(e){this.expTable=Array(256);this.logTable=Array(256);for(var c=1,a=0;256>a;a++)this.expTable[a]=c,c<<=1,256<=c&&(c^=e);for(a=0;255>a;a++)this.logTable[this.expTable[a]]=a;e=Array(1);e[0]=0;this.zero=new GF256Poly(this,Array(e));e=Array(1);e[0]=1;this.one=new GF256Poly(this,Array(e));this.__defineGetter__("Zero",function(){return this.zero});this.__defineGetter__("One",function(){return this.one});this.buildMonomial=function(a,b){if(0>a)throw"System.ArgumentException";if(0==b)return this.zero;
  for(var d=Array(a+1),c=0;c<d.length;c++)d[c]=0;d[0]=b;return new GF256Poly(this,d)};this.exp=function(a){return this.expTable[a]};this.log=function(a){if(0==a)throw"System.ArgumentException";return this.logTable[a]};this.inverse=function(a){if(0==a)throw"System.ArithmeticException";return this.expTable[255-this.logTable[a]]};this.multiply=function(a,b){return 0==a||0==b?0:1==a?b:1==b?a:this.expTable[(this.logTable[a]+this.logTable[b])%255]}}GF256.QR_CODE_FIELD=new GF256(285);
  GF256.DATA_MATRIX_FIELD=new GF256(301);GF256.addOrSubtract=function(e,c){return e^c};
  function GF256Poly(e,c){if(null==c||0==c.length)throw"System.ArgumentException";this.field=e;var a=c.length;if(1<a&&0==c[0]){for(var d=1;d<a&&0==c[d];)d++;if(d==a)this.coefficients=e.Zero.coefficients;else{this.coefficients=Array(a-d);for(a=0;a<this.coefficients.length;a++)this.coefficients[a]=0;for(a=0;a<this.coefficients.length;a++)this.coefficients[a]=c[d+a]}}else this.coefficients=c;this.__defineGetter__("Zero",function(){return 0==this.coefficients[0]});this.__defineGetter__("Degree",function(){return this.coefficients.length-
  1});this.__defineGetter__("Coefficients",function(){return this.coefficients});this.getCoefficient=function(b){return this.coefficients[this.coefficients.length-1-b]};this.evaluateAt=function(b){if(0==b)return this.getCoefficient(0);var a=this.coefficients.length;if(1==b){for(var c=b=0;c<a;c++)b=GF256.addOrSubtract(b,this.coefficients[c]);return b}var d=this.coefficients[0];for(c=1;c<a;c++)d=GF256.addOrSubtract(this.field.multiply(b,d),this.coefficients[c]);return d};this.addOrSubtract=function(b){if(this.field!=
  b.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return b;if(b.Zero)return this;var a=this.coefficients;b=b.coefficients;if(a.length>b.length){var c=a;a=b;b=c}c=Array(b.length);for(var d=b.length-a.length,k=0;k<d;k++)c[k]=b[k];for(k=d;k<b.length;k++)c[k]=GF256.addOrSubtract(a[k-d],b[k]);return new GF256Poly(e,c)};this.multiply1=function(b){if(this.field!=b.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||b.Zero)return this.field.Zero;var a=this.coefficients,c=
  a.length;b=b.coefficients;for(var d=b.length,e=Array(c+d-1),l=0;l<c;l++)for(var n=a[l],m=0;m<d;m++)e[l+m]=GF256.addOrSubtract(e[l+m],this.field.multiply(n,b[m]));return new GF256Poly(this.field,e)};this.multiply2=function(b){if(0==b)return this.field.Zero;if(1==b)return this;for(var a=this.coefficients.length,c=Array(a),d=0;d<a;d++)c[d]=this.field.multiply(this.coefficients[d],b);return new GF256Poly(this.field,c)};this.multiplyByMonomial=function(a,c){if(0>a)throw"System.ArgumentException";if(0==
  c)return this.field.Zero;for(var b=this.coefficients.length,d=Array(b+a),e=0;e<d.length;e++)d[e]=0;for(e=0;e<b;e++)d[e]=this.field.multiply(this.coefficients[e],c);return new GF256Poly(this.field,d)};this.divide=function(a){if(this.field!=a.field)throw"GF256Polys do not have same GF256 field";if(a.Zero)throw"Divide by 0";var b=this.field.Zero,c=this,d=a.getCoefficient(a.Degree);for(d=this.field.inverse(d);c.Degree>=a.Degree&&!c.Zero;){var e=c.Degree-a.Degree,l=this.field.multiply(c.getCoefficient(c.Degree),
  d),n=a.multiplyByMonomial(e,l);e=this.field.buildMonomial(e,l);b=b.addOrSubtract(e);c=c.addOrSubtract(n)}return[b,c]}}
  var GridSampler={checkAndNudgePoints:function(e,c){for(var a=qrcode.width,d=qrcode.height,b=!0,g=0;g<c.length&&b;g+=2){var f=Math.floor(c[g]),h=Math.floor(c[g+1]);if(-1>f||f>a||-1>h||h>d)throw"Error.checkAndNudgePoints ";b=!1;-1==f?(c[g]=0,b=!0):f==a&&(c[g]=a-1,b=!0);-1==h?(c[g+1]=0,b=!0):h==d&&(c[g+1]=d-1,b=!0)}b=!0;for(g=c.length-2;0<=g&&b;g-=2){f=Math.floor(c[g]);h=Math.floor(c[g+1]);if(-1>f||f>a||-1>h||h>d)throw"Error.checkAndNudgePoints ";b=!1;-1==f?(c[g]=0,b=!0):f==a&&(c[g]=a-1,b=!0);-1==h?
  (c[g+1]=0,b=!0):h==d&&(c[g+1]=d-1,b=!0)}},sampleGrid3:function(e,c,a){for(var d=new BitMatrix(c),b=Array(c<<1),g=0;g<c;g++){for(var f=b.length,h=g+.5,k=0;k<f;k+=2)b[k]=(k>>1)+.5,b[k+1]=h;a.transformPoints1(b);GridSampler.checkAndNudgePoints(e,b);try{for(k=0;k<f;k+=2)e[Math.floor(b[k])+qrcode.width*Math.floor(b[k+1])]&&d.set_Renamed(k>>1,g)}catch(l){throw"Error.checkAndNudgePoints";}}return d},sampleGridx:function(e,c,a,d,b,g,f,h,k,l,n,m,q,r,t,p,y,z){a=PerspectiveTransform.quadrilateralToQuadrilateral(a,
  d,b,g,f,h,k,l,n,m,q,r,t,p,y,z);return GridSampler.sampleGrid3(e,c,a)}},qrcode={imagedata:null,width:0,height:0,qrCodeSymbol:null,debug:!1,maxImgSize:1048576,sizeOfDataLengthInfo:[[10,9,8,8],[12,11,16,10],[14,13,16,12]],callback:null,vidSuccess:function(e){qrcode.localstream=e;qrcode.webkit?qrcode.video.src=window.webkitURL.createObjectURL(e):qrcode.moz?(qrcode.video.mozSrcObject=e,qrcode.video.play()):qrcode.video.src=e;qrcode.gUM=!0;qrcode.canvas_qr2=document.createElement("canvas");qrcode.canvas_qr2.id=
  "qr-canvas";qrcode.qrcontext2=qrcode.canvas_qr2.getContext("2d");qrcode.canvas_qr2.width=qrcode.video.videoWidth;qrcode.canvas_qr2.height=qrcode.video.videoHeight;setTimeout(qrcode.captureToCanvas,500)},vidError:function(e){qrcode.gUM=!1},captureToCanvas:function(){if(qrcode.gUM)try{if(0==qrcode.video.videoWidth)setTimeout(qrcode.captureToCanvas,500);else{qrcode.canvas_qr2.width=qrcode.video.videoWidth;qrcode.canvas_qr2.height=qrcode.video.videoHeight;qrcode.qrcontext2.drawImage(qrcode.video,0,0);
  try{qrcode.decode()}catch(e){console.log(e),setTimeout(qrcode.captureToCanvas,500)}}}catch(e){console.log(e),setTimeout(qrcode.captureToCanvas,500)}},setWebcam:function(e){var c=navigator;qrcode.video=document.getElementById(e);var a=!0;if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices)try{navigator.mediaDevices.enumerateDevices().then(function(c){c.forEach(function(b){console.log("deb1");"videoinput"===b.kind&&-1<b.label.toLowerCase().search("back")&&(a=[{sourceId:b.deviceId}]);
  console.log(b.kind+": "+b.label+" id = "+b.deviceId)})})}catch(d){console.log(d)}else console.log("no navigator.mediaDevices.enumerateDevices");c.getUserMedia?c.getUserMedia({video:a,audio:!1},qrcode.vidSuccess,qrcode.vidError):c.webkitGetUserMedia?(qrcode.webkit=!0,c.webkitGetUserMedia({video:a,audio:!1},qrcode.vidSuccess,qrcode.vidError)):c.mozGetUserMedia&&(qrcode.moz=!0,c.mozGetUserMedia({video:a,audio:!1},qrcode.vidSuccess,qrcode.vidError))},decode:function(e){if(0==arguments.length){if(qrcode.canvas_qr2)var c=
  qrcode.canvas_qr2,a=qrcode.qrcontext2;else c=document.getElementById("qr-canvas"),a=c.getContext("2d");qrcode.width=c.width;qrcode.height=c.height;qrcode.imagedata=a.getImageData(0,0,qrcode.width,qrcode.height);qrcode.result=qrcode.process(a);null!=qrcode.callback&&qrcode.callback(qrcode.result);return qrcode.result}var d=new Image;d.crossOrigin="Anonymous";d.onload=function(){var a=document.getElementById("out-canvas");null!=a&&(a=a.getContext("2d"),a.clearRect(0,0,320,240),a.drawImage(d,0,0,320,
  240));a=document.createElement("canvas");var c=a.getContext("2d"),e=d.height,h=d.width;d.width*d.height>qrcode.maxImgSize&&(h=d.width/d.height,e=Math.sqrt(qrcode.maxImgSize/h),h*=e);a.width=h;a.height=e;c.drawImage(d,0,0,a.width,a.height);qrcode.width=a.width;qrcode.height=a.height;try{qrcode.imagedata=c.getImageData(0,0,a.width,a.height)}catch(k){qrcode.result=Error("Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!");null!=qrcode.callback&&
  qrcode.callback(qrcode.result);return}try{qrcode.result=qrcode.process(c)}catch(k){console.log(k),qrcode.result=Error("error decoding QR Code")}null!=qrcode.callback&&qrcode.callback(qrcode.result)};d.onerror=function(){null!=qrcode.callback&&qrcode.callback(Error("Failed to load the image"))};d.src=e},isUrl:function(e){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},decode_url:function(e){var c="";try{c=escape(e)}catch(a){console.log(a),c=e}e="";
  try{e=decodeURIComponent(c)}catch(a){console.log(a),e=c}return e},decode_utf8:function(e){return qrcode.isUrl(e)?qrcode.decode_url(e):e},process:function(e){var c=(new Date).getTime(),a=qrcode.grayScaleToBitmap(qrcode.grayscale());if(qrcode.debug){for(var d=0;d<qrcode.height;d++)for(var b=0;b<qrcode.width;b++){var g=4*b+d*qrcode.width*4;qrcode.imagedata.data[g]=0;qrcode.imagedata.data[g+1]=0;qrcode.imagedata.data[g+2]=a[b+d*qrcode.width]?255:0}e.putImageData(qrcode.imagedata,0,0)}a=(new Detector(a)).detect();
  if(qrcode.debug){for(d=0;d<a.bits.Height;d++)for(b=0;b<a.bits.Width;b++)g=8*b+2*d*qrcode.width*4,qrcode.imagedata.data[g]=(a.bits.get_Renamed(b,d),0),qrcode.imagedata.data[g+1]=(a.bits.get_Renamed(b,d),0),qrcode.imagedata.data[g+2]=a.bits.get_Renamed(b,d)?255:0;e.putImageData(qrcode.imagedata,0,0)}d=Decoder.decode(a.bits).DataByte;e="";for(b=0;b<d.length;b++)for(g=0;g<d[b].length;g++)e+=String.fromCharCode(d[b][g]);d=(new Date).getTime();console.log(d-c);return qrcode.decode_utf8(e)},getPixel:function(e,
  c){if(qrcode.width<e)throw"point error";if(qrcode.height<c)throw"point error";var a=4*e+c*qrcode.width*4;return(33*qrcode.imagedata.data[a]+34*qrcode.imagedata.data[a+1]+33*qrcode.imagedata.data[a+2])/100},binarize:function(e){for(var c=Array(qrcode.width*qrcode.height),a=0;a<qrcode.height;a++)for(var d=0;d<qrcode.width;d++){var b=qrcode.getPixel(d,a);c[d+a*qrcode.width]=b<=e?!0:!1}return c},getMiddleBrightnessPerArea:function(e){for(var c=Math.floor(qrcode.width/4),a=Math.floor(qrcode.height/4),
  d=Array(4),b=0;4>b;b++){d[b]=Array(4);for(var g=0;4>g;g++)d[b][g]=[0,0]}for(b=0;4>b;b++)for(g=0;4>g;g++){d[g][b][0]=255;for(var f=0;f<a;f++)for(var h=0;h<c;h++){var k=e[c*g+h+(a*b+f)*qrcode.width];k<d[g][b][0]&&(d[g][b][0]=k);k>d[g][b][1]&&(d[g][b][1]=k)}}e=Array(4);for(c=0;4>c;c++)e[c]=Array(4);for(b=0;4>b;b++)for(g=0;4>g;g++)e[g][b]=Math.floor((d[g][b][0]+d[g][b][1])/2);return e},grayScaleToBitmap:function(e){var c=qrcode.getMiddleBrightnessPerArea(e),a=c.length,d=Math.floor(qrcode.width/a),b=Math.floor(qrcode.height/
  a),g=new ArrayBuffer(qrcode.width*qrcode.height);g=new Uint8Array(g);for(var f=0;f<a;f++)for(var h=0;h<a;h++)for(var k=0;k<b;k++)for(var l=0;l<d;l++)g[d*h+l+(b*f+k)*qrcode.width]=e[d*h+l+(b*f+k)*qrcode.width]<c[h][f]?!0:!1;return g},grayscale:function(){var e=new ArrayBuffer(qrcode.width*qrcode.height);e=new Uint8Array(e);for(var c=0;c<qrcode.height;c++)for(var a=0;a<qrcode.width;a++){var d=qrcode.getPixel(a,c);e[a+c*qrcode.width]=d}return e}};
  function URShift(e,c){return 0<=e?e>>c:(e>>c)+(2<<~c)}
  function ReedSolomonDecoder(e){this.field=e;this.decode=function(c,a){for(var d=new GF256Poly(this.field,c),b=Array(a),e=0;e<b.length;e++)b[e]=0;var f=!0;for(e=0;e<a;e++){var h=d.evaluateAt(this.field.exp(e));b[b.length-1-e]=h;0!=h&&(f=!1)}if(!f)for(e=new GF256Poly(this.field,b),d=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),e,a),e=d[1],d=this.findErrorLocations(d[0]),b=this.findErrorMagnitudes(e,d,!1),e=0;e<d.length;e++){f=c.length-1-this.field.log(d[e]);if(0>f)throw"ReedSolomonException Bad error location";
  c[f]=GF256.addOrSubtract(c[f],b[e])}};this.runEuclideanAlgorithm=function(c,a,d){if(c.Degree<a.Degree){var b=c;c=a;a=b}b=this.field.One;for(var e=this.field.Zero,f=this.field.Zero,h=this.field.One;a.Degree>=Math.floor(d/2);){var k=c,l=b,n=f;c=a;b=e;f=h;if(c.Zero)throw"r_{i-1} was zero";a=k;h=this.field.Zero;e=c.getCoefficient(c.Degree);for(e=this.field.inverse(e);a.Degree>=c.Degree&&!a.Zero;){k=a.Degree-c.Degree;var m=this.field.multiply(a.getCoefficient(a.Degree),e);h=h.addOrSubtract(this.field.buildMonomial(k,
  m));a=a.addOrSubtract(c.multiplyByMonomial(k,m))}e=h.multiply1(b).addOrSubtract(l);h=h.multiply1(f).addOrSubtract(n)}d=h.getCoefficient(0);if(0==d)throw"ReedSolomonException sigmaTilde(0) was zero";d=this.field.inverse(d);c=h.multiply2(d);d=a.multiply2(d);return[c,d]};this.findErrorLocations=function(c){var a=c.Degree;if(1==a)return Array(c.getCoefficient(1));for(var d=Array(a),b=0,e=1;256>e&&b<a;e++)0==c.evaluateAt(e)&&(d[b]=this.field.inverse(e),b++);if(b!=a)throw"Error locator degree does not match number of roots";
  return d};this.findErrorMagnitudes=function(c,a,d){for(var b=a.length,e=Array(b),f=0;f<b;f++){for(var h=this.field.inverse(a[f]),k=1,l=0;l<b;l++)f!=l&&(k=this.field.multiply(k,GF256.addOrSubtract(1,this.field.multiply(a[l],h))));e[f]=this.field.multiply(c.evaluateAt(h),this.field.inverse(k));d&&(e[f]=this.field.multiply(e[f],h))}return e}}
  function ECB(e,c){this.count=e;this.dataCodewords=c;this.__defineGetter__("Count",function(){return this.count});this.__defineGetter__("DataCodewords",function(){return this.dataCodewords})}
  function ECBlocks(e,c,a){this.ecCodewordsPerBlock=e;this.ecBlocks=a?[c,a]:Array(c);this.__defineGetter__("ECCodewordsPerBlock",function(){return this.ecCodewordsPerBlock});this.__defineGetter__("TotalECCodewords",function(){return this.ecCodewordsPerBlock*this.NumBlocks});this.__defineGetter__("NumBlocks",function(){for(var a=0,b=0;b<this.ecBlocks.length;b++)a+=this.ecBlocks[b].length;return a});this.getECBlocks=function(){return this.ecBlocks}}
  function Version(e,c,a,d,b,g){this.versionNumber=e;this.alignmentPatternCenters=c;this.ecBlocks=[a,d,b,g];e=0;c=a.ECCodewordsPerBlock;a=a.getECBlocks();for(d=0;d<a.length;d++)b=a[d],e+=b.Count*(b.DataCodewords+c);this.totalCodewords=e;this.__defineGetter__("VersionNumber",function(){return this.versionNumber});this.__defineGetter__("AlignmentPatternCenters",function(){return this.alignmentPatternCenters});this.__defineGetter__("TotalCodewords",function(){return this.totalCodewords});this.__defineGetter__("DimensionForVersion",
  function(){return 17+4*this.versionNumber});this.buildFunctionPattern=function(){var a=this.DimensionForVersion,b=new BitMatrix(a);b.setRegion(0,0,9,9);b.setRegion(a-8,0,8,9);b.setRegion(0,a-8,9,8);for(var c=this.alignmentPatternCenters.length,d=0;d<c;d++)for(var e=this.alignmentPatternCenters[d]-2,g=0;g<c;g++)0==d&&(0==g||g==c-1)||d==c-1&&0==g||b.setRegion(this.alignmentPatternCenters[g]-2,e,5,5);b.setRegion(6,9,1,a-17);b.setRegion(9,6,a-17,1);6<this.versionNumber&&(b.setRegion(a-11,0,3,6),b.setRegion(0,
  a-11,6,3));return b};this.getECBlocksForLevel=function(a){return this.ecBlocks[a.ordinal()]}}Version.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017];Version.VERSIONS=buildVersions();Version.getVersionForNumber=function(e){if(1>e||40<e)throw"ArgumentException";return Version.VERSIONS[e-1]};
  Version.getProvisionalVersionForDimension=function(e){if(1!=e%4)throw"Error getProvisionalVersionForDimension";try{return Version.getVersionForNumber(e-17>>2)}catch(c){throw"Error getVersionForNumber";}};
  Version.decodeVersionInformation=function(e){for(var c=4294967295,a=0,d=0;d<Version.VERSION_DECODE_INFO.length;d++){var b=Version.VERSION_DECODE_INFO[d];if(b==e)return this.getVersionForNumber(d+7);b=FormatInformation.numBitsDiffering(e,b);b<c&&(a=d+7,c=b)}return 3>=c?this.getVersionForNumber(a):null};
  function buildVersions(){return[new Version(1,[],new ECBlocks(7,new ECB(1,19)),new ECBlocks(10,new ECB(1,16)),new ECBlocks(13,new ECB(1,13)),new ECBlocks(17,new ECB(1,9))),new Version(2,[6,18],new ECBlocks(10,new ECB(1,34)),new ECBlocks(16,new ECB(1,28)),new ECBlocks(22,new ECB(1,22)),new ECBlocks(28,new ECB(1,16))),new Version(3,[6,22],new ECBlocks(15,new ECB(1,55)),new ECBlocks(26,new ECB(1,44)),new ECBlocks(18,new ECB(2,17)),new ECBlocks(22,new ECB(2,13))),new Version(4,[6,26],new ECBlocks(20,
  new ECB(1,80)),new ECBlocks(18,new ECB(2,32)),new ECBlocks(26,new ECB(2,24)),new ECBlocks(16,new ECB(4,9))),new Version(5,[6,30],new ECBlocks(26,new ECB(1,108)),new ECBlocks(24,new ECB(2,43)),new ECBlocks(18,new ECB(2,15),new ECB(2,16)),new ECBlocks(22,new ECB(2,11),new ECB(2,12))),new Version(6,[6,34],new ECBlocks(18,new ECB(2,68)),new ECBlocks(16,new ECB(4,27)),new ECBlocks(24,new ECB(4,19)),new ECBlocks(28,new ECB(4,15))),new Version(7,[6,22,38],new ECBlocks(20,new ECB(2,78)),new ECBlocks(18,new ECB(4,
  31)),new ECBlocks(18,new ECB(2,14),new ECB(4,15)),new ECBlocks(26,new ECB(4,13),new ECB(1,14))),new Version(8,[6,24,42],new ECBlocks(24,new ECB(2,97)),new ECBlocks(22,new ECB(2,38),new ECB(2,39)),new ECBlocks(22,new ECB(4,18),new ECB(2,19)),new ECBlocks(26,new ECB(4,14),new ECB(2,15))),new Version(9,[6,26,46],new ECBlocks(30,new ECB(2,116)),new ECBlocks(22,new ECB(3,36),new ECB(2,37)),new ECBlocks(20,new ECB(4,16),new ECB(4,17)),new ECBlocks(24,new ECB(4,12),new ECB(4,13))),new Version(10,[6,28,50],
  new ECBlocks(18,new ECB(2,68),new ECB(2,69)),new ECBlocks(26,new ECB(4,43),new ECB(1,44)),new ECBlocks(24,new ECB(6,19),new ECB(2,20)),new ECBlocks(28,new ECB(6,15),new ECB(2,16))),new Version(11,[6,30,54],new ECBlocks(20,new ECB(4,81)),new ECBlocks(30,new ECB(1,50),new ECB(4,51)),new ECBlocks(28,new ECB(4,22),new ECB(4,23)),new ECBlocks(24,new ECB(3,12),new ECB(8,13))),new Version(12,[6,32,58],new ECBlocks(24,new ECB(2,92),new ECB(2,93)),new ECBlocks(22,new ECB(6,36),new ECB(2,37)),new ECBlocks(26,
  new ECB(4,20),new ECB(6,21)),new ECBlocks(28,new ECB(7,14),new ECB(4,15))),new Version(13,[6,34,62],new ECBlocks(26,new ECB(4,107)),new ECBlocks(22,new ECB(8,37),new ECB(1,38)),new ECBlocks(24,new ECB(8,20),new ECB(4,21)),new ECBlocks(22,new ECB(12,11),new ECB(4,12))),new Version(14,[6,26,46,66],new ECBlocks(30,new ECB(3,115),new ECB(1,116)),new ECBlocks(24,new ECB(4,40),new ECB(5,41)),new ECBlocks(20,new ECB(11,16),new ECB(5,17)),new ECBlocks(24,new ECB(11,12),new ECB(5,13))),new Version(15,[6,26,
  48,70],new ECBlocks(22,new ECB(5,87),new ECB(1,88)),new ECBlocks(24,new ECB(5,41),new ECB(5,42)),new ECBlocks(30,new ECB(5,24),new ECB(7,25)),new ECBlocks(24,new ECB(11,12),new ECB(7,13))),new Version(16,[6,26,50,74],new ECBlocks(24,new ECB(5,98),new ECB(1,99)),new ECBlocks(28,new ECB(7,45),new ECB(3,46)),new ECBlocks(24,new ECB(15,19),new ECB(2,20)),new ECBlocks(30,new ECB(3,15),new ECB(13,16))),new Version(17,[6,30,54,78],new ECBlocks(28,new ECB(1,107),new ECB(5,108)),new ECBlocks(28,new ECB(10,
  46),new ECB(1,47)),new ECBlocks(28,new ECB(1,22),new ECB(15,23)),new ECBlocks(28,new ECB(2,14),new ECB(17,15))),new Version(18,[6,30,56,82],new ECBlocks(30,new ECB(5,120),new ECB(1,121)),new ECBlocks(26,new ECB(9,43),new ECB(4,44)),new ECBlocks(28,new ECB(17,22),new ECB(1,23)),new ECBlocks(28,new ECB(2,14),new ECB(19,15))),new Version(19,[6,30,58,86],new ECBlocks(28,new ECB(3,113),new ECB(4,114)),new ECBlocks(26,new ECB(3,44),new ECB(11,45)),new ECBlocks(26,new ECB(17,21),new ECB(4,22)),new ECBlocks(26,
  new ECB(9,13),new ECB(16,14))),new Version(20,[6,34,62,90],new ECBlocks(28,new ECB(3,107),new ECB(5,108)),new ECBlocks(26,new ECB(3,41),new ECB(13,42)),new ECBlocks(30,new ECB(15,24),new ECB(5,25)),new ECBlocks(28,new ECB(15,15),new ECB(10,16))),new Version(21,[6,28,50,72,94],new ECBlocks(28,new ECB(4,116),new ECB(4,117)),new ECBlocks(26,new ECB(17,42)),new ECBlocks(28,new ECB(17,22),new ECB(6,23)),new ECBlocks(30,new ECB(19,16),new ECB(6,17))),new Version(22,[6,26,50,74,98],new ECBlocks(28,new ECB(2,
  111),new ECB(7,112)),new ECBlocks(28,new ECB(17,46)),new ECBlocks(30,new ECB(7,24),new ECB(16,25)),new ECBlocks(24,new ECB(34,13))),new Version(23,[6,30,54,74,102],new ECBlocks(30,new ECB(4,121),new ECB(5,122)),new ECBlocks(28,new ECB(4,47),new ECB(14,48)),new ECBlocks(30,new ECB(11,24),new ECB(14,25)),new ECBlocks(30,new ECB(16,15),new ECB(14,16))),new Version(24,[6,28,54,80,106],new ECBlocks(30,new ECB(6,117),new ECB(4,118)),new ECBlocks(28,new ECB(6,45),new ECB(14,46)),new ECBlocks(30,new ECB(11,
  24),new ECB(16,25)),new ECBlocks(30,new ECB(30,16),new ECB(2,17))),new Version(25,[6,32,58,84,110],new ECBlocks(26,new ECB(8,106),new ECB(4,107)),new ECBlocks(28,new ECB(8,47),new ECB(13,48)),new ECBlocks(30,new ECB(7,24),new ECB(22,25)),new ECBlocks(30,new ECB(22,15),new ECB(13,16))),new Version(26,[6,30,58,86,114],new ECBlocks(28,new ECB(10,114),new ECB(2,115)),new ECBlocks(28,new ECB(19,46),new ECB(4,47)),new ECBlocks(28,new ECB(28,22),new ECB(6,23)),new ECBlocks(30,new ECB(33,16),new ECB(4,17))),
  new Version(27,[6,34,62,90,118],new ECBlocks(30,new ECB(8,122),new ECB(4,123)),new ECBlocks(28,new ECB(22,45),new ECB(3,46)),new ECBlocks(30,new ECB(8,23),new ECB(26,24)),new ECBlocks(30,new ECB(12,15),new ECB(28,16))),new Version(28,[6,26,50,74,98,122],new ECBlocks(30,new ECB(3,117),new ECB(10,118)),new ECBlocks(28,new ECB(3,45),new ECB(23,46)),new ECBlocks(30,new ECB(4,24),new ECB(31,25)),new ECBlocks(30,new ECB(11,15),new ECB(31,16))),new Version(29,[6,30,54,78,102,126],new ECBlocks(30,new ECB(7,
  116),new ECB(7,117)),new ECBlocks(28,new ECB(21,45),new ECB(7,46)),new ECBlocks(30,new ECB(1,23),new ECB(37,24)),new ECBlocks(30,new ECB(19,15),new ECB(26,16))),new Version(30,[6,26,52,78,104,130],new ECBlocks(30,new ECB(5,115),new ECB(10,116)),new ECBlocks(28,new ECB(19,47),new ECB(10,48)),new ECBlocks(30,new ECB(15,24),new ECB(25,25)),new ECBlocks(30,new ECB(23,15),new ECB(25,16))),new Version(31,[6,30,56,82,108,134],new ECBlocks(30,new ECB(13,115),new ECB(3,116)),new ECBlocks(28,new ECB(2,46),
  new ECB(29,47)),new ECBlocks(30,new ECB(42,24),new ECB(1,25)),new ECBlocks(30,new ECB(23,15),new ECB(28,16))),new Version(32,[6,34,60,86,112,138],new ECBlocks(30,new ECB(17,115)),new ECBlocks(28,new ECB(10,46),new ECB(23,47)),new ECBlocks(30,new ECB(10,24),new ECB(35,25)),new ECBlocks(30,new ECB(19,15),new ECB(35,16))),new Version(33,[6,30,58,86,114,142],new ECBlocks(30,new ECB(17,115),new ECB(1,116)),new ECBlocks(28,new ECB(14,46),new ECB(21,47)),new ECBlocks(30,new ECB(29,24),new ECB(19,25)),new ECBlocks(30,
  new ECB(11,15),new ECB(46,16))),new Version(34,[6,34,62,90,118,146],new ECBlocks(30,new ECB(13,115),new ECB(6,116)),new ECBlocks(28,new ECB(14,46),new ECB(23,47)),new ECBlocks(30,new ECB(44,24),new ECB(7,25)),new ECBlocks(30,new ECB(59,16),new ECB(1,17))),new Version(35,[6,30,54,78,102,126,150],new ECBlocks(30,new ECB(12,121),new ECB(7,122)),new ECBlocks(28,new ECB(12,47),new ECB(26,48)),new ECBlocks(30,new ECB(39,24),new ECB(14,25)),new ECBlocks(30,new ECB(22,15),new ECB(41,16))),new Version(36,
  [6,24,50,76,102,128,154],new ECBlocks(30,new ECB(6,121),new ECB(14,122)),new ECBlocks(28,new ECB(6,47),new ECB(34,48)),new ECBlocks(30,new ECB(46,24),new ECB(10,25)),new ECBlocks(30,new ECB(2,15),new ECB(64,16))),new Version(37,[6,28,54,80,106,132,158],new ECBlocks(30,new ECB(17,122),new ECB(4,123)),new ECBlocks(28,new ECB(29,46),new ECB(14,47)),new ECBlocks(30,new ECB(49,24),new ECB(10,25)),new ECBlocks(30,new ECB(24,15),new ECB(46,16))),new Version(38,[6,32,58,84,110,136,162],new ECBlocks(30,new ECB(4,
  122),new ECB(18,123)),new ECBlocks(28,new ECB(13,46),new ECB(32,47)),new ECBlocks(30,new ECB(48,24),new ECB(14,25)),new ECBlocks(30,new ECB(42,15),new ECB(32,16))),new Version(39,[6,26,54,82,110,138,166],new ECBlocks(30,new ECB(20,117),new ECB(4,118)),new ECBlocks(28,new ECB(40,47),new ECB(7,48)),new ECBlocks(30,new ECB(43,24),new ECB(22,25)),new ECBlocks(30,new ECB(10,15),new ECB(67,16))),new Version(40,[6,30,58,86,114,142,170],new ECBlocks(30,new ECB(19,118),new ECB(6,119)),new ECBlocks(28,new ECB(18,
  47),new ECB(31,48)),new ECBlocks(30,new ECB(34,24),new ECB(34,25)),new ECBlocks(30,new ECB(20,15),new ECB(61,16)))]};